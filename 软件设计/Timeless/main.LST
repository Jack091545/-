C51 COMPILER V9.01   MAIN                                                                  04/21/2016 23:01:38 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\D\Software\KeilC51\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "stc12c5a60s2.h"
   2          #include "Display.h"
   3          #include "DS1302.h"
   4          #include "UART.h"
   5          #include "Timer.h"
   6          #include <intrins.h> 
   7          #include <stdio.h>
   8          
   9          
  10          unsigned char code number[10][8]={
  11          {0x00,0x38,0x6C,0x6C,0x6C,0x6C,0x6C,0x38},/*"0",0*/
  12          
  13          {0x00,0x18,0x1C,0x18,0x18,0x18,0x18,0x3C},/*"1",1*/
  14          
  15          {0x00,0x38,0x6C,0x60,0x30,0x18,0x0C,0x7C},/*"2",2*/
  16          
  17          {0x00,0x38,0x6C,0x60,0x38,0x60,0x6C,0x38},/*"3",3*/
  18          
  19          {0x00,0x30,0x38,0x38,0x3C,0x3C,0x7C,0x30},/*"4",4*/
  20          
  21          {0x00,0x7C,0x0C,0x0C,0x3C,0x60,0x60,0x3C},/*"5",5*/
  22          
  23          {0x00,0x38,0x6C,0x0C,0x3C,0x6C,0x6C,0x38},/*"6",6*/
  24          
  25          {0x00,0x7C,0x6C,0x60,0x30,0x18,0x18,0x18},/*"7",7*/
  26          
  27          {0x00,0x38,0x6C,0x6C,0x38,0x6C,0x6C,0x38},/*"8",8*/
  28          
  29          {0x00,0x38,0x6C,0x6C,0x78,0x60,0x6C,0x38}/*"9",9*/
  30          };
  31          
  32          unsigned char code lift_num[10][8]= {
  33          {0x7C,0xFE,0x82,0xFE,0x7C,0x00,0x00,0x00},/*"0",0*/
  34          
  35          {0x00,0x80,0xFE,0xFE,0x84,0x00,0x00,0x00},/*"1",1*/
  36          
  37          {0x8C,0x9E,0xB2,0xE6,0xC4,0x00,0x00,0x00},/*"2",2*/
  38          
  39          {0x6C,0xFE,0x92,0xD6,0x44,0x00,0x00,0x00},/*"3",3*/
  40          
  41          {0x20,0xFE,0xFE,0x24,0x38,0x00,0x00,0x00},/*"4",4*/
  42          
  43          {0x62,0xF2,0x92,0x9E,0x9E,0x00,0x00,0x00},/*"5",5*/
  44          
  45          {0x64,0xF6,0x92,0xFE,0x7C,0x00,0x00,0x00},/*"6",6*/
  46          
  47          {0x0E,0x1E,0xF2,0xE6,0x06,0x00,0x00,0x00},/*"7",7*/
  48          
  49          {0x6C,0xFE,0x92,0xFE,0x6C,0x00,0x00,0x00},/*"8",8*/
  50          
  51          {0x7C,0xFE,0x92,0xDE,0x4C,0x00,0x00,0x00}/*"9",9*/
  52          };
  53          unsigned char code lift_num_dot[10][8] = {
  54          {0x6c,0x00,0x7C,0xFE,0x82,0xFE,0x7C,0x00},/*"0",0*/
  55          
C51 COMPILER V9.01   MAIN                                                                  04/21/2016 23:01:38 PAGE 2   

  56          {0x6c,0x00,0x00,0x80,0xFE,0xFE,0x84,0x00},/*"1",0*/
  57          
  58          {0x6c,0x00,0x8C,0x9E,0xB2,0xE6,0xC4,0x00},/*"2",2*/
  59          
  60          {0x6c,0x00,0x6C,0xFE,0x92,0xD6,0x44,0x00},/*"3",3*/
  61          
  62          {0x6c,0x00,0x20,0xFE,0xFE,0x24,0x38,0x00},/*"4",4*/
  63          
  64          {0x6c,0x00,0x62,0xF2,0x92,0x9E,0x9E,0x00},/*"5",5*/
  65          
  66          {0x6c,0x00,0x64,0xF6,0x92,0xFE,0x7C,0x00},/*"6",6*/
  67          
  68          {0x6c,0x00,0x0E,0x1E,0xF2,0xE6,0x06,0x00},/*"7",7*/
  69          
  70          {0x6c,0x00,0x6C,0xFE,0x92,0xFE,0x6C,0x00},/*"8",8*/
  71          
  72          {0x6c,0x00,0x7C,0xFE,0x92,0xDE,0x4C,0x00}/*"9",9*/
  73          };
  74          unsigned char code right_num_dot[10][8] = {
  75          {0x00,0x7C,0xFE,0x82,0xFE,0x7C,0x00,0x6c},/*"0",0*/
  76          
  77          {0x00,0x80,0xFE,0xFE,0x84,0x00,0x00,0x6c},/*"1",0*/
  78          
  79          {0x00,0x8C,0x9E,0xB2,0xE6,0xC4,0x00,0x6c},/*"2",2*/
  80          
  81          {0x00,0x6C,0xFE,0x92,0xD6,0x44,0x00,0x6c},/*"3",3*/
  82          
  83          {0x00,0x20,0xFE,0xFE,0x24,0x38,0x00,0x6C},/*"4",4*/
  84          
  85          {0x00,0x62,0xF2,0x92,0x9E,0x9E,0x00,0x6c},/*"5",5*/
  86          
  87          {0x00,0x64,0xF6,0x92,0xFE,0x7C,0x00,0x6c},/*"6",6*/
  88          
  89          {0x00,0x0E,0x1E,0xF2,0xE6,0x06,0x00,0x6c},/*"7",7*/
  90          
  91          {0x00,0x6C,0xFE,0x92,0xFE,0x6C,0x00,0x6c},/*"8",8*/
  92          
  93          {0x00,0x7C,0xFE,0x92,0xDE,0x4C,0x00,0x6c}/*"9",9*/
  94          
  95          };
  96          unsigned char code right_num[10][8] = {
  97          {0x00,0x00,0x00,0x7C,0xFE,0x82,0xFE,0x7C},/*"0",0*/
  98          
  99          {0x00,0x00,0x00,0x00,0x80,0xFE,0xFE,0x84},/*"1",1*/
 100          
 101          {0x00,0x00,0x00,0x8C,0x9E,0xB2,0xE6,0xC4},/*"2",2*/
 102          
 103          {0x00,0x00,0x00,0x6C,0xFE,0x92,0xD6,0x44},/*"3",3*/
 104          
 105          {0x00,0x00,0x00,0x20,0xFE,0xFE,0x24,0x38},/*"4",4*/
 106          
 107          {0x00,0x00,0x00,0x62,0xF2,0x92,0x9E,0x9E},/*"5",5*/
 108          
 109          {0x00,0x00,0x00,0x64,0xF6,0x92,0xFE,0x7C},/*"6",6*/
 110          
 111          {0x00,0x00,0x00,0x0E,0x1E,0xF2,0xE6,0x06},/*"7",7*/
 112          
 113          {0x00,0x00,0x00,0x6C,0xFE,0x92,0xFE,0x6C},/*"8",8*/
 114          
 115          {0x00,0x00,0x00,0x7C,0xFE,0x92,0xDE,0x4C}/*"9",9*/
 116          };
 117          
C51 COMPILER V9.01   MAIN                                                                  04/21/2016 23:01:38 PAGE 3   

 118          sbit LED = P1^4;
 119          extern unsigned int nian,yue,ri,shi,fen,miao,zhou;
 120          
 121          /*------------------------------------------------
 122                             ÷˜≥Ã–Ú
 123          ------------------------------------------------*/
 124          void main(void)
 125          {
 126   1              LED = 1;
 127   1              Ds1302_Init();
 128   1      //      Ds1302_Write_Time();
 129   1      //      DelayMs(100);
 130   1              Timer0_Init();
 131   1      //      DelayMs(100);
 132   1              UART_Init();
 133   1              EA = 1; 
 134   1      //      DelayMs(100);
 135   1              Ds1302_Read_Time();   // ◊¥Œ∂¡»° ±º‰
 136   1      //      DelayMs(100);
 137   1              SendStr("Timeless V1.0\n");
 138   1              while(1)
 139   1              {
 140   2                      Ds1302_Read_Time();
 141   2                      shi=(int)time_buf1[4];// ±                      // ˝æ›µƒ◊™ªª£¨“ÚŒ“√«≤…”√ ˝¬Îπ‹0~9µƒœ‘ æ,Ω´ ˝æ›∑÷ø™                                                                      //º”»
             -Î"-"
 142   2                      fen=(int)time_buf1[5];//∑÷
 143   2                      miao=(int)time_buf1[6];//√Î     
 144   2                      nian=(int)time_buf1[1];//ƒÍ                                                                         
 145   2                      yue=(int)time_buf1[2];//‘¬
 146   2                      ri=(int)time_buf1[3];//»’       
 147   2                      zhou=(int)time_buf1[7];//÷‹
 148   2                      Send_Data(&lift_num[shi/10][0],&lift_num_dot[shi%10][0],&right_num_dot[fen/10][0],&right_num[fen%10][0])
             -;
 149   2              }
 150   1      }
 151          
 152          
 153          /*------------------------------------------------
 154                            ¥Æø⁄÷–∂œ≥Ã–Ú
 155          ------------------------------------------------*/
 156          void UART_SER (void) interrupt 4 //¥Æ––÷–∂œ∑˛ŒÒ≥Ã–Ú
 157          {
 158   1          unsigned char Temp;          //∂®“Â¡Ÿ ±±‰¡ø 
 159   1      
 160   1          if(RI)                        //≈–∂œ «Ω” ’÷–∂œ≤˙…˙
 161   1           {
 162   2                RI=0;                      //±Í÷æŒª«Â¡„
 163   2                Temp=SBUF;                 //∂¡»Îª∫≥Â«¯µƒ÷µ
 164   2            SBUF=Temp; //∞—Ω” ’µΩµƒ÷µ‘Ÿ∑¢ªÿµÁƒ‘∂À
 165   2               }
 166   1      //   if(TI)  //»Áπ˚ «∑¢ÀÕ±Í÷æŒª£¨«Â¡„
 167   1      //     TI=0;
 168   1      } 


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    245    ----
   CONSTANT SIZE    =    415    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
C51 COMPILER V9.01   MAIN                                                                  04/21/2016 23:01:38 PAGE 4   

   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
